<!doctype html><html lang=zh-CN dir=ltr><head><meta chart=utf-8><meta name=viewport content="width=device-width"><title>屎山代码风格指南 | 雨巷</title><link rel="shortcut icon" href=/favicon.svg type=image/svg-xml><meta name=language content="zh-CN"><meta property="og:title" content="屎山代码风格指南 | 雨巷"><meta name=twitter:title content="屎山代码风格指南 | 雨巷"><meta itemprop=name content="屎山代码风格指南 | 雨巷"><meta name=application-name content="屎山代码风格指南 | 雨巷"><meta property="og:site_name" content="雨巷"><meta property="og:locale" content="zh-CN"><meta name=description content="October 6, 2023 
✋ 以下不要尝试学习，不要写！给出这些建议就是避免这样写，不听的话，下周就是你提桶跑路的日子（划重"><meta itemprop=description content="October 6, 2023 
✋ 以下不要尝试学习，不要写！给出这些建议就是避免这样写，不听的话，下周就是你提桶跑路的日子（划重"><meta property="og:description" content="October 6, 2023 
✋ 以下不要尝试学习，不要写！给出这些建议就是避免这样写，不听的话，下周就是你提桶跑路的日子（划重"><meta name=twitter:description content="October 6, 2023 
✋ 以下不要尝试学习，不要写！给出这些建议就是避免这样写，不听的话，下周就是你提桶跑路的日子（划重"><meta itemprop=image content="https://rainto.top/img/avantar.png"><meta property="og:image" content="https://rainto.top/img/avantar.png"><meta name=twitter:image content="https://rainto.top/img/avantar.png"><meta name=twitter:image:src content="https://rainto.top/img/avantar.png"><meta property="og:type" content="article"><meta property="og:article:published_time" content=2023-10-06T22:09:00-0700><meta property="article:published_time" content=2023-10-06T22:09:00-0700><meta property="og:url" content="https://rainto.top/posts/note/20231106%E5%B1%8E%E5%B1%B1%E4%BB%A3%E7%A0%81%E9%A3%8E%E6%A0%BC%E6%8C%87%E5%8D%97/"><meta property="og:article:author" content="Rainto"><meta property="article:author" content="Rainto"><meta name=author content="Rainto"><meta name=news_keywords content="[屎山代码 优化小秘诀]"><meta property="article:section" content="[屎山代码 优化小秘诀]"><link rel=stylesheet href=/css/main.min.css integrity crossorigin=anonymous><script src=/js/main.df02158b873b11f744b8dbc4151706f26672c0ec6dff13b890f46b2dbc13d1a0.js integrity="sha256-3wIVi4c7EfdEuNvEFRcG8mZywOxt/xO4kPRrLbwT0aA=" crossorigin=anonymous></script></head><body><header><h1 class=title><a href=/posts/note/20231106%E5%B1%8E%E5%B1%B1%E4%BB%A3%E7%A0%81%E9%A3%8E%E6%A0%BC%E6%8C%87%E5%8D%97/>雨巷 <span style=font-size:.8em>(rainto.top)</span></a></h1><nav><p><a href=/>首頁</a>
<a aria-current=true class=ancestor href=/posts/>归档</a>
<a href=/tags/>标签</a>
<a href=/memo/>碎语</a>
<a href=/search/>搜索</a>
<a href=/about/>关于</a></p></nav></header><main><h1>屎山代码风格指南</h1><div><span></span><a href=/categories/%E7%AC%94%E8%AE%B0>笔记</a>&nbsp;/&nbsp;</span>
<time datetime=2023-10-06T22:09:00-07:00>October 6, 2023</time></div><div><p><a href=https://github.com/trekhleb/state-of-the-art-shitcode><img src="https://img.shields.io/static/v1?label=State-of-the-art&amp;message=Shitcode&amp;color=7B5804" alt="State-of-the-art Shitcode"></a></p><blockquote><h4 id=-以下不要尝试学习不要写给出这些建议就是避免这样写不听的话下周就是你提桶跑路的日子划重点good->✋ 以下不要尝试学习，<code>不要写</code>！给出这些建议就是避免这样写，不听的话，下周就是你提桶跑路的日子（划重点）Good 👍🏻</h4></blockquote><ol><li>良好的代码结构：<code>Bad!👎🏻</code><ul><li>使用<code>有意义的变量和函数名</code>，遵循命名规范，使代码易于理解。</li><li>组织代码，使用适当的文件和文件夹结构，保持模块化。</li><li>避免全局变量的滥用，<code>尽量使用局部作用域</code>。</li></ul></li><li>单一职责原则：<code>Bad!👎🏻</code><ul><li>每个函数或模块应该只负责一个特定的功能。这样的设计使得代码更容易维护和扩展。</li></ul></li><li>DRY 原则（不要重复自己）：<code>Bad!👎🏻</code><ul><li>避免复制粘贴代码，尽量将重复的逻辑提取成函数、类或模块。
使用函数封装通用功能，以便在整个应用程序中重复使用。</li></ul></li><li>注释和文档：<code>Bad!👎🏻</code><ul><li>写<code>清晰</code>、<code>有意义</code>的注释，解释代码的目的和特殊考虑。</li><li>为 API、函数等提供<code>良好的文档</code>，使其他开发者能够轻松理解和使用你的代码。</li></ul></li><li>代码复审：<code>Bad!👎🏻</code><ul><li>进行代码复审是避免屎山代码的重要步骤。同事可以提供不同的视角和建议，有助于发现潜在的问题。</li></ul></li><li>测试驱动开发（TDD）：<code>Bad!👎🏻</code><ul><li>使用测试来确保代码的质量和稳定性。在编写代码之前先写测试，以确保代码的正确性。</li></ul></li><li>使用设计模式：<code>Bad!👎🏻</code><ul><li>学习并应用设计模式，它们提供了一些通用的解决方案，有助于降低复杂性和提高代码的可维护性。</li></ul></li><li>版本控制：<code>Bad!👎🏻</code><ul><li>使用<code>版本控制</code>系统（如 Git）来跟踪代码的变化，以便轻松地回滚到之前的版本，并且能够合理管理多人协作的情况。</li></ul></li><li>性能优化和代码优化：<code>Bad!👎🏻</code><ul><li>注意<code>代码的性能</code>，避免写出低效的代码。使用工具和技术进行性能分析和优化。</li></ul></li><li>学习和持续改进：<code>Bad!👎🏻</code><ul><li>不断学习新的技术和最佳实践，关注前端领域的最新发展。</li><li><code>定期检讨</code>自己的代码，寻找优化的机会，并从他人的经验中吸取教训。</li></ul></li></ol><hr><blockquote><h3 id=以下是我精心准备的福利大礼包-good>以下是我精心准备的福利大礼包 <code>Good!👍🏻</code></h3></blockquote><h3 id=通用jscsshtml系列>通用js,css,html系列</h3><ol><li>混淆方式命名变量</li></ol><div id=hl-0 class=hl><div class=meta><div style=color:#928374><span class=type>js</span></div><div class=wrap onclick=wrap(this)></div><div class=copy onclick=copy(this)></div></div><pre><code class=code><span style=display:flex><span><span style=color:#928374;font-style:italic>// Bad 👎🏻（不要参考）
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span><span style=color:#fe8019>const</span> age <span style=color:#fe8019>=</span> <span style=color:#d3869b>18</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#928374;font-style:italic>// Good 👍🏻（谨记）
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic>// 这是个啥？猜去吧！没用的，只有我才知道！
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span><span style=color:#fe8019>const</span> a <span style=color:#fe8019>=</span> <span style=color:#b8bb26>&#34;&#34;</span></span></span></code></pre></div><ol start=2><li>不要注释！不要注释！不要注释！</li></ol><div id=hl-1 class=hl><div class=meta><div style=color:#928374><span class=type>js</span></div><div class=wrap onclick=wrap(this)></div><div class=copy onclick=copy(this)></div></div><pre><code class=code><span style=display:flex><span><span style=color:#928374;font-style:italic>// Bad 👎🏻（不要参考）
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic>// 400的数量是根据UX A/B测试结果进行计算的。
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic>// @查看: &lt;详细解释的一个链接&gt;
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span><span style=color:#fe8019>const</span> callbackCode <span style=color:#fe8019>=</span> <span style=color:#d3869b>400</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#928374;font-style:italic>// Good 👍🏻（谨记）
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span><span style=color:#fe8019>const</span> cbc <span style=color:#fe8019>=</span> <span style=color:#d3869b>400</span></span></span></code></pre></div><ol start=3><li>非母语注释</li></ol><blockquote><p>如果你手贱，确实想写注释，你已经违背了<code>规则2</code>,在这种情况下，<code>规则3</code>一定要遵守，写注释用非母语，提升别人看注释的门槛，例如：你的母语是中文，你写注释就用法语或者俄语。有人可能会问，我不会怎么办？善用翻译！</p></blockquote><div id=hl-2 class=hl><div class=meta><div style=color:#928374><span class=type>js</span></div><div class=wrap onclick=wrap(this)></div><div class=copy onclick=copy(this)></div></div><pre><code class=code><span style=display:flex><span><span style=color:#928374;font-style:italic>// Bad 👎🏻（不要参考）
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic>// 隐藏错误弹窗
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>togglePop(<span style=color:#fe8019>false</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#928374;font-style:italic>// Good 👍🏻（谨记）
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic>// Ха - ха, большой идиот, я догадался, что ты скопируешь, чтобы найти переводчика.
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>togglePop(<span style=color:#fe8019>false</span>)</span></span></code></pre></div><ol start=4><li>尽可能把代码写成一行</li></ol><blockquote><p>把代码写在一行才显得更牛逼,别人写 20 行，你一行就搞定了！实力无需多言！</p></blockquote><div id=hl-3 class=hl><div class=meta><div style=color:#928374><span class=type>js</span></div><div class=wrap onclick=wrap(this)></div><div class=copy onclick=copy(this)></div></div><pre><code class=code><span style=display:flex><span><span style=color:#928374;font-style:italic>// Bad 👎🏻（不要参考）
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span><span style=color:#fabd2f>document</span>.location.search
</span></span><span style=display:flex><span>  .replace(<span style=color:#b8bb26>/(^\?)/</span>, <span style=color:#b8bb26>&#39;&#39;</span>)
</span></span><span style=display:flex><span>  .split(<span style=color:#b8bb26>&#39;&amp;&#39;</span>)
</span></span><span style=display:flex><span>  .reduce((searchParams, keyValuePair) =&gt; {
</span></span><span style=display:flex><span>    keyValuePair <span style=color:#fe8019>=</span> keyValuePair.split(<span style=color:#b8bb26>&#39;=&#39;</span>)
</span></span><span style=display:flex><span>    searchParams[keyValuePair[<span style=color:#d3869b>0</span>]] <span style=color:#fe8019>=</span> keyValuePair[<span style=color:#d3869b>1</span>]
</span></span><span style=display:flex><span>    <span style=color:#fe8019>return</span> searchParams
</span></span><span style=display:flex><span>  }, {})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#928374;font-style:italic>// Good 👍🏻（谨记）
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span><span style=color:#fabd2f>document</span>.location.search.replace(<span style=color:#b8bb26>/(^\?)/</span>,<span style=color:#b8bb26>&#39;&#39;</span>).split(<span style=color:#b8bb26>&#39;&amp;&#39;</span>).reduce(<span style=color:#fe8019>function</span>(o,n){n<span style=color:#fe8019>=</span>n.split(<span style=color:#b8bb26>&#39;=&#39;</span>);o[n[<span style=color:#d3869b>0</span>]]<span style=color:#fe8019>=</span>n[<span style=color:#d3869b>1</span>];<span style=color:#fe8019>return</span> o},{})</span></span></code></pre></div><ol start=5><li>三角法则</li></ol><blockquote><p>众所周知，<code>三角形是最稳定的结构</code>，严格遵循三角法则的代码又怎么会崩呢？</p></blockquote><div id=hl-4 class=hl><div class=meta><div style=color:#928374><span>Good 👍🏻（谨记）</span>&nbsp;/
<span class=type>js</span></div><div class=wrap onclick=wrap(this)></div><div class=copy onclick=copy(this)></div></div><pre><code class=code><span style=display:flex><span><span style=color:#fe8019>function</span> someFunction() {
</span></span><span style=display:flex><span>  <span style=color:#fe8019>if</span> (condition1) {
</span></span><span style=display:flex><span>    <span style=color:#fe8019>if</span> (condition2) {
</span></span><span style=display:flex><span>      asyncFunction(params, (result) =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#fe8019>if</span> (result) {
</span></span><span style=display:flex><span>          <span style=color:#fe8019>for</span> (;;) {
</span></span><span style=display:flex><span>            <span style=color:#fe8019>if</span> (condition3) {
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      })
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}</span></span></code></pre></div><div id=hl-5 class=hl><div class=meta><div style=color:#928374><span>Bad 👎🏻（不要参考）</span>&nbsp;/
<span class=type>js</span></div><div class=wrap onclick=wrap(this)></div><div class=copy onclick=copy(this)></div></div><pre><code class=code><span style=display:flex><span><span style=color:#fe8019>async</span> <span style=color:#fe8019>function</span> someFunction() {
</span></span><span style=display:flex><span>  <span style=color:#fe8019>if</span> (<span style=color:#fe8019>!</span>condition1 <span style=color:#fe8019>||</span> <span style=color:#fe8019>!</span>condition2) {
</span></span><span style=display:flex><span>    <span style=color:#fe8019>return</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#fe8019>const</span> result <span style=color:#fe8019>=</span> <span style=color:#fe8019>await</span> asyncFunction(params)
</span></span><span style=display:flex><span>  <span style=color:#fe8019>if</span> (<span style=color:#fe8019>!</span>result) {
</span></span><span style=display:flex><span>    <span style=color:#fe8019>return</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#fe8019>for</span> (;;) {
</span></span><span style=display:flex><span>    <span style=color:#fe8019>if</span> (condition3) {
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}</span></span></code></pre></div><ol start=6><li>尽可能的使用全局变量</li></ol><div id=hl-6 class=hl><div class=meta><div style=color:#928374><span class=type>js</span></div><div class=wrap onclick=wrap(this)></div><div class=copy onclick=copy(this)></div></div><pre><code class=code><span style=display:flex><span><span style=color:#928374;font-style:italic>// Good 👍🏻（谨记）
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span><span style=color:#fe8019>let</span> a <span style=color:#fe8019>=</span> <span style=color:#d3869b>5</span>;
</span></span><span style=display:flex><span><span style=color:#fe8019>var</span> b <span style=color:#fe8019>=</span> <span style=color:#d3869b>2</span>;
</span></span><span style=display:flex><span><span style=color:#fe8019>function</span> square(b) {
</span></span><span style=display:flex><span>  b <span style=color:#fe8019>=</span> a <span style=color:#fe8019>+</span> b;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>square(<span style=color:#d3869b>1</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#928374;font-style:italic>// Bad 👎🏻（不要参考）
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span><span style=color:#fe8019>let</span> num <span style=color:#fe8019>=</span> <span style=color:#d3869b>5</span>;
</span></span><span style=display:flex><span><span style=color:#fe8019>function</span> square(sub) {
</span></span><span style=display:flex><span>  <span style=color:#fe8019>return</span> sub <span style=color:#fe8019>**</span> <span style=color:#d3869b>2</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>num <span style=color:#fe8019>=</span> square(x); <span style=color:#928374;font-style:italic>// 现在x是25
</span></span></span></code></pre></div><ol start=7><li>混合缩进</li></ol><blockquote><p>避免缩进，因为它们会使复杂的代码在编辑器中占用更多的空间。</p></blockquote><div id=hl-7 class=hl><div class=meta><div style=color:#928374><span class=type>js</span></div><div class=wrap onclick=wrap(this)></div><div class=copy onclick=copy(this)></div></div><pre><code class=code><span style=display:flex><span><span style=color:#928374;font-style:italic>// Good 👍🏻（谨记）
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span><span style=color:#fe8019>const</span> fruits <span style=color:#fe8019>=</span> [ <span style=color:#b8bb26>&#34;Apple&#34;</span>,
</span></span><span style=display:flex><span><span style=color:#b8bb26>&#34;Banana&#34;</span>, <span style=color:#b8bb26>&#34;Cherry&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#b8bb26>&#34;Date&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#b8bb26>&#34;Elderberry&#34;</span>,
</span></span><span style=display:flex><span><span style=color:#b8bb26>&#34;Fig&#34;</span>,];
</span></span><span style=display:flex><span><span style=color:#fe8019>const</span> drinks<span style=color:#fe8019>=</span>[
</span></span><span style=display:flex><span><span style=color:#b8bb26>&#34;Coffee&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#b8bb26>&#34;Tea&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#b8bb26>&#34;Cocoa&#34;</span>,<span style=color:#b8bb26>&#34;Cola&#34;</span>,]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#928374;font-style:italic>// Bad 👎🏻（不要参考）
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span><span style=color:#fe8019>const</span> fruits <span style=color:#fe8019>=</span> [ <span style=color:#b8bb26>&#34;Apple&#34;</span>, <span style=color:#b8bb26>&#34;Banana&#34;</span>, <span style=color:#b8bb26>&#34;Cherry&#34;</span>, <span style=color:#b8bb26>&#34;Date&#34;</span>, <span style=color:#b8bb26>&#34;Elderberry&#34;</span>, <span style=color:#b8bb26>&#34;Fig&#34;</span>]
</span></span><span style=display:flex><span><span style=color:#fe8019>const</span> drinks <span style=color:#fe8019>=</span> [ <span style=color:#b8bb26>&#34;Coffee&#34;</span>, <span style=color:#b8bb26>&#34;Tea&#34;</span>, <span style=color:#b8bb26>&#34;Cocoa&#34;</span>, <span style=color:#b8bb26>&#34;Cola&#34;</span>]</span></span></code></pre></div><ol start=8><li>循环里面最好if，if里面最好再有循环</li></ol><blockquote><p>正所谓<code>你中有我，我中有你</code>，彼此相依，永不分离。这样写出来的代码才是有灵魂的代码，有个人风格的代码！<br>⭐ 最好运用上<code>三角法则</code>或<code>混合缩进法则</code></p></blockquote><div id=hl-8 class=hl><div class=meta><div style=color:#928374><span class=type>js</span></div><div class=wrap onclick=wrap(this)></div><div class=copy onclick=copy(this)></div></div><pre><code class=code><span style=display:flex><span><span style=color:#fe8019>function</span> dealData(num) {
</span></span><span style=display:flex><span>  <span style=color:#fe8019>for</span> (循环1) {
</span></span><span style=display:flex><span>    <span style=color:#fe8019>if</span> (判断1) {
</span></span><span style=display:flex><span>      <span style=color:#fe8019>if</span> (判断2) {
</span></span><span style=display:flex><span>        asyncFunction(params, (result) =&gt; {
</span></span><span style=display:flex><span>          <span style=color:#fe8019>if</span> (result) {
</span></span><span style=display:flex><span>            <span style=color:#fe8019>for</span> (循环2) {
</span></span><span style=display:flex><span>              <span style=color:#fe8019>if</span> (判断3) {
</span></span><span style=display:flex><span>              }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>        })
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}</span></span></code></pre></div><ol start=9><li>写永远无法到达的代码</li></ol><blockquote><p>得不到的才是最好的，这个没啥好说。</p></blockquote><div id=hl-9 class=hl><div class=meta><div style=color:#928374><span class=type>js</span></div><div class=wrap onclick=wrap(this)></div><div class=copy onclick=copy(this)></div></div><pre><code class=code><span style=display:flex><span><span style=color:#928374;font-style:italic>// Good 👍🏻（谨记）
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span><span style=color:#fe8019>function</span> square(num) {
</span></span><span style=display:flex><span>  <span style=color:#fe8019>if</span> (<span style=color:#fe8019>typeof</span> num <span style=color:#fe8019>===</span> <span style=color:#b8bb26>&#39;undefined&#39;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#fe8019>return</span> <span style=color:#fe8019>undefined</span>
</span></span><span style=display:flex><span>  } <span style=color:#fe8019>else</span> {
</span></span><span style=display:flex><span>    <span style=color:#fe8019>return</span> num <span style=color:#fe8019>**</span> <span style=color:#d3869b>2</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#fe8019>return</span> <span style=color:#fe8019>null</span> <span style=color:#928374;font-style:italic>// 这就是我的&#34;Plan B&#34;.
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#928374;font-style:italic>// Bad 👎🏻（不要参考）
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span><span style=color:#fe8019>function</span> square(num) {
</span></span><span style=display:flex><span>  <span style=color:#fe8019>if</span> (<span style=color:#fe8019>typeof</span> num <span style=color:#fe8019>===</span> <span style=color:#b8bb26>&#39;undefined&#39;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#fe8019>return</span> <span style=color:#fe8019>undefined</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#fe8019>return</span> num <span style=color:#fe8019>**</span> <span style=color:#d3869b>2</span>
</span></span><span style=display:flex><span>}</span></span></code></pre></div><ol start=10><li>TypeScript?<code>AnyScript</code>!</li></ol><blockquote><p>类型可选？就别写! 频繁报错？那就any！</p></blockquote><div id=hl-10 class=hl><div class=meta><div style=color:#928374><span class=type>ts</span></div><div class=wrap onclick=wrap(this)></div><div class=copy onclick=copy(this)></div></div><pre><code class=code><span style=display:flex><span><span style=color:#928374;font-style:italic>// Good 👍🏻（谨记）
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span><span style=color:#fe8019>function</span> sum(a, b) {
</span></span><span style=display:flex><span>  <span style=color:#fe8019>return</span> a <span style=color:#fe8019>+</span> b
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>sum([],{}) <span style=color:#928374;font-style:italic>// [object Object]
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>sum({}, []) <span style=color:#928374;font-style:italic>// -&gt; 0
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#928374;font-style:italic>// Bad 👎🏻（不要参考）
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span><span style=color:#fe8019>function</span> sum(a: <span style=color:#fabd2f>number</span>, b: <span style=color:#fabd2f>number</span>)<span style=color:#fe8019>:</span> <span style=color:#fe8019>?</span><span style=color:#fabd2f>number</span> {
</span></span><span style=display:flex><span>  <span style=color:#928374;font-style:italic>// 当我们在JS中不做置换和/或流类型检查时，覆盖这种情况。
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>  <span style=color:#fe8019>if</span> (<span style=color:#fe8019>typeof</span> a <span style=color:#fe8019>!==</span> <span style=color:#b8bb26>&#39;number&#39;</span> <span style=color:#fe8019>&amp;&amp;</span> <span style=color:#fe8019>typeof</span> b <span style=color:#fe8019>!==</span> <span style=color:#b8bb26>&#39;number&#39;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#fe8019>return</span> <span style=color:#fe8019>undefined</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#fe8019>return</span> a <span style=color:#fe8019>+</span> b
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>sum([], {}) <span style=color:#928374;font-style:italic>// -&gt; undefined
</span></span></span></code></pre></div><blockquote><p>综上所述，祝愿大家在写💩山的路上越走越远，稳坐岗位！</p></blockquote></div><div><ul class=tags><li><span class=anchor>#</span><a href=/tags/%E5%B1%8E%E5%B1%B1%E4%BB%A3%E7%A0%81/>屎山代码</a></li><li><span class=anchor>#</span><a href=/tags/%E4%BC%98%E5%8C%96%E5%B0%8F%E7%A7%98%E8%AF%80/>优化小秘诀</a></li></ul></div><div class=paginav><div class=prev><a href=/posts/essay/20230226%E6%83%B3%E8%A7%81%E4%BD%A0/><div class=title>« Prev</div><span>在这样的夜晚，我疯狂地想见你</span></a></div><div class=next><a href=/posts/member/20231201%E8%BF%91%E5%86%B5/><div class=title>Next »</div><span>近况</span></a></div></div><script>function copy(e){const n=e.parentNode.parentNode.querySelector("code"),t=window.getSelection();t.selectAllChildren(n),document.execCommand("copy"),t.removeAllRanges(),e.style.background="#edb23b",setTimeout(()=>{e.style.background="#5f5970"},1e3)}function wrap(e){const t=e.parentNode.parentNode,n=t.querySelector("code"),s=t.querySelector("pre");let o=null;if(s)o=n,t.removeChild(s),t.appendChild(o);else{const e=document.createElement("pre");e.style.display="grid",e.appendChild(n),t.appendChild(e)}}</script></main><footer><a href=#>返回顶部 ↑</a><p>©&nbsp;2025&nbsp;雨巷 | <a href=https://github.com/rainto0322/hugo-theme-rain target=_blank rel="noopener noreferrer">RAIN</a> THEME</p></footer></body></html>