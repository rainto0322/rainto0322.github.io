(async()=>{const{$:n,ct:l,cr:e,ad:o}=window.nota,i=n("m-cont"),t=n("m-more");if(!i||!t)return;const a=`<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="24px" height="30px" fill="#333"><rect x="0" y="0" width="4" height="15"><animate attributeName="opacity" values="1;.2;1" begin="0s" dur="0.6s" repeatCount="indefinite"></animate></rect><rect x="10" y="0" width="4" height="15"><animate attributeName="opacity" values="1;.2;1" begin="0.2s" dur="0.6s" repeatCount="indefinite"></animate></rect><rect x="20" y="0" width="4" height="15"><animate attributeName="opacity" values="1;.2;1" begin="0.4s" dur="0.6s" repeatCount="indefinite"></animate></rect></svg>`;let s=0,r=8;const d=t=>{const n=document.createDocumentFragment();for(const d of t){let{text:u,img:i,date:h}=d;const s=e("div","m-item fade_in"),r=e("div","m-body"),c=e("time","m-date"),a=e("ul",`view-box grid-${i.length}`);c.innerText=l(h);const m=new DOMParser,f=m.parseFromString(u.replace(/\n/g,"<br>"),"text/html").body.innerHTML;r.innerHTML=f;for(const s of i){const t=e("li"),n=e("img");n.src=`https://raw.gitcode.com/rainto/Album/raw/main/daily/${s}.png`,a.setAttribute("view-image",!0),o(t,n),o(a,t)}i.length>0&&s.appendChild(a),s.appendChild(r),s.appendChild(c),n.appendChild(s)}return n},c=async()=>{t.innerHTML=a;const{ok:o,data:c,count:l}=await fetch(`https://api.rainto.top/memo/li/${s}/${r}`).then(e=>e.json());if(!o){n("memo").innerHTML="Unable connect to nota.";return}const h=Math.ceil(l/r);if(s<h){const s=d(c);i.appendChild(s),window.view||(ViewImage.init(),window.view=!0);const n=e("div");n.textContent="ʕ•ᴥ•ʔ 點擊查看更多.",n.onclick=()=>{t.innerHTML=a,u()},t.innerHTML="",t.appendChild(n)}else t.innerHTML="(›´ω`‹ ) 真的一滴都不剩了..."};function u(){s++,c()}c()})()