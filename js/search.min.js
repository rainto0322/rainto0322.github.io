(async()=>{const{$:i,cr:o,ad:n}=window.nota,a=await(async()=>await fetch("/index.json").then(e=>e.json()))(),s=i("s-txt"),t=i("s-res");if(!a||!s)return;s.focus(),s.addEventListener("input",e=>{t.innerHTML="";const s=e.target.value.trim().split(/[\s,ï¼Œ/]+/);if(!s[0])return;const i=document.createDocumentFragment();a.forEach(e=>{const{title:a,content:r,link:l}=e;let c=-1,t=-1;for(const d of s){if(c=a.indexOf(d),t=r.indexOf(d),c<0&&t<0)return;const u=new RegExp(`(${d})`,"gi"),h='<span class="s-key">$1</span>',p=a.replace(u,h),g=r.substring(t-10,t+50).replace(u,h),e=o("a","s-item"),m=o("span","s-title"),f=o("span","s-cont");e.href=l,m.innerHTML=p,f.innerHTML=g+"...",n(e,m),n(e,f),n(i,e)}}),n(t,i)});let e=0;window.addEventListener("keydown",n=>{const i=t.childNodes.length,{code:o}=n;o==="ArrowDown"&&(e<i?e++:e=1,t.childNodes[e-1].focus()),o==="ArrowUp"&&(e>1?e--:e=i,t.childNodes[e-1].focus()),o==="Escape"&&s.focus()})})()